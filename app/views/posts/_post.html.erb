<div id="<%= dom_id post %>" class="my-4 bg-white rounded-lg shadow-md overflow-hidden">
  <div class="flex items-center p-4">
      <img class="w-10 h-10 rounded-full" src="https://placehold.co/150" alt="User Profile Picture">
      <div class="ml-3">
          <h2 class="font-semibold text-gray-800">
            <%= post.user.name %>
          </h2>
          <p class="text-gray-600 text-sm">
            <%= custom_date post.created_at %>
          </p>
      </div>
  </div>

  <div class="p-4">
    <p class="text-gray-700">
      <%= post.body %>
    </p>
    <% if post.images.attached? %>
      <div class="flex justify-center mt-5">
        <% post.images.each do |image|%>
          <%= image_tag image.representation(resize_to_fit: [600, 300]) %>
        <% end %>
      </div>
    <% end %>
  </div>

  <div class="flex justify-between items-center p-4 border-t">
      <div class="flex items-center gap-1">
        <% if Like.find_by(post: post, user: current_user) %>
        <%# Button to delete Like %>
          <%= button_to Like.find_by(post:, user: current_user), method: :delete, class: "text-red-500 hover:bg-slate-300 p-2 rounded transition" do %>
            <i data-lucide="thumbs-down" ></i>
          <% end %>
          
        <% else %>
        <%# Button to create Like %>
          <%= button_to likes_path(post_id: post.id), method: :post, class: "text-blue-500 hover:bg-slate-300 p-2 rounded transition" do %>
            <i data-lucide="thumbs-up" ></i>
          <% end %>

        <% end %>

        <div><%= post.likes.count %></div>

      </div>

      <%= link_to post_path(post), class: "text-blue-500 hover:bg-slate-300 p-2 rounded transition" do %>
        <i data-lucide="messages-square" ></i>
      <% end %>

      <button class="text-blue-500 hover:bg-slate-300 p-2 rounded transition">
        <i data-lucide="share-2" ></i>
      </button>
  </div>
</div>
